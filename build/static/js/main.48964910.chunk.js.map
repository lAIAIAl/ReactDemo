{"version":3,"sources":["pages/Login/imgs/logo.webp","utils/request.js","utils/memoryUtils.js","utils/storageUtils.js","utils/current.js","pages/Login/index.js","utils/dateUtils.js","assets/weather.jpg","config/menuConfig.js","components/link-button/index.js","components/header/index.js","assets/logo2.jpg","components/left-nav/index.js","pages/Admin/Home/line.js","pages/Admin/Home/bar.js","pages/Admin/Home/index.js","pages/Admin/Charts/line.js","pages/Admin/Charts/bar.js","pages/Admin/Charts/pie.js","utils/categoryList.js","api/ajax.js","api/index.js","pages/Admin/Manage/product/pictures-wall.jsx","pages/Admin/Manage/product/rich-text-editor.jsx","pages/Admin/Manage/product/add-product.js","pages/Admin/Manage/product/details.js","utils/tools.js","pages/Admin/Manage/product/home.js","pages/Admin/Manage/product/product.js","pages/Admin/Manage/category/add-form.js","pages/Admin/Manage/category/update-form.js","pages/Admin/Manage/category/category.js","pages/Admin/User/user-form.js","pages/Admin/User/index.js","pages/Admin/Role/add-form.js","pages/Admin/Role/auth-form.js","pages/Admin/Role/index.js","pages/Admin/index.js","App.js","index.js"],"names":["post","url","data","Promise","resolve","reject","axios","then","response","err","defaults","timeout","interceptors","request","use","config","JSON","stringify","headers","error","code","alert","msg","user","USER_KEY","actions","saveUser","store","set","getUser","get","removeUser","remove","URL","Login","onFinish","values","defaultUrl","message","success","userInfo","memoryUtil","storageUtils","console","log","props","history","replace","onFinishFailed","errorInfo","user_id","to","className","src","img","alt","name","initialValues","remember","this","Item","rules","required","prefix","UserOutlined","placeholder","LockOutlined","type","htmlType","style","margin","Component","formateDate","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","menuList","key","icon","PieChartOutlined","path","title","disabled","children","MailOutlined","AppstoreOutlined","LinkButton","Header","state","currentTime","now","dayPictureUrl","weather","getTime","timeInterval","setInterval","setState","getTitle","t","location","pathname","forEach","item","cItem","find","indexOf","logout","confirm","content","onOk","memoryUitls","onCancel","clearInterval","username","onClick","width","withRouter","SubMenu","LeftNav","collapsed","toggleCollapsed","getMenuNodes","memoryUtils","map","disable","auth","menuNode","group","split","selected","slice","join","logo","defaultSelectedKeys","defaultOpenKeys","mode","theme","inlineCollapsed","Line","sales","stores","update","sale","reduce","pre","push","getOption","text","tooltip","legend","xAxis","yAxis","series","option","Bar","dateFormat","RangePicker","Home","isVisited","handleChange","extra","defaultValue","moment","format","bodyStyle","padding","height","color","Pie","arr","value","label","ajax","params","catch","reqCategorys","parentId","setTimeout","status","id","reqProducts","conditions","productInfo","products","price","descripition","reqUpdateStatus","productId","reqDeleteImg","reqAddOrUpdateProduct","product","reqAddRole","roleName","reqUpdateRole","role","reqAddOrUpdateUser","getBase64","file","reader","FileReader","readAsDataURL","onload","result","onerror","PicturesWall","previewVisible","previewImage","previewTitle","fileList","getImgs","handleCancel","handlePreview","a","preview","originFileObj","substring","lastIndexOf","flag","that","length","imgs","index","uid","uploadButton","PlusOutlined","marginTop","action","listType","accept","onPreview","onChange","visible","footer","RichTextEditor","editorState","EditorState","createEmpty","onEditorStateChange","getDetail","draftToHtml","convertToRaw","getCurrentContent","uploadImageCallBack","xhr","XMLHttpRequest","open","FormData","append","send","addEventListener","parse","responseText","link","html","detail","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","editorStyle","border","minHeight","paddingLeft","toolbar","image","uploadCallback","present","mandatory","TextArea","AddProduct","changeCagetory","selectedOptions","category","submit","formRef","current","validateFields","pw","details","editor","isUpdate","category_ids","goBack","warn","React","createRef","validatePrice","rule","callback","ArrowLeftOutlined","marginRight","fontSize","labelCol","span","wrapperCol","ref","initialValue","description","autoSize","maxRows","minRows","validator","addonAfter","options","categoryOptions","expandTrigger","changeOnSelect","ProductDetails","categoryName1","categoryName2","dangerouslySetInnerHTML","__html","numFormate","originNum","num","Number","isNaN","NaN","arrInt","Math","abs","reverse","arrFloat","resultArr","i","j","Option","ProductHome","columns","loading","searchName","searchType","initColumns","dataIndex","render","changeState","x","searchProducts","initProducts","event","target","rowKey","bordered","dataSource","pagination","defaultPageSize","total","showQuickJumper","showTotal","Product","exact","component","ProductAddUpdate","AddForm","setForm","form","categorys","c","_id","UpdateForm","categoryName","Category","subCategorys","parentName","showStatus","showUpdate","showSubCategorys","getCategorys","showCategorys","showAdd","addCategory","updateCategory","UserForm","roles","useState","setUsername","password","setPassword","email","setEmail","phone","setPhone","role_id","setRole","userName","useRef","passWord","Email","phoneNumber","Role","useImperativeHandle","getValues","reset","p","empty","htmlFor","e","ro","memo","forwardRef","User","users","isShow","roleNames","deleteUser","initRoleNames","user_form","getUsers","addOrUpdateUser","test","getValue","aform","resetFields","AuthForm","getMenus","checkedKeys","onCheck","menus","nextProps","checkable","defaultExpandAll","treeData","PureComponent","isShowAdd","isShowAuth","getRoles","onRow","addRole","add","info","updateRole","auth_list","author","author_id","rowSelection","selectedRowKeys","onSelect","Footer","Sider","Content","Admin","auth_key","backgroundColor","textAlign","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.48964910.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1eeb0268.webp\";","import axios from \"axios\";\r\n\r\naxios.defaults.timeout = 100000;\r\n\r\n/**\r\n * http request 拦截器\r\n */\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    config.data = JSON.stringify(config.data);\r\n    config.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * http response 拦截器\r\n */\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    if (response.data.code !== 20000) {\r\n      alert(response.data.msg);\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    alert(\"请求出错：\", error);\r\n  }\r\n);\r\n\r\n/**\r\n * 封装get方法\r\n * @param url  请求url\r\n * @param params  请求参数\r\n * @returns {Promise}\r\n */\r\nexport function get(url, params = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(url, {\r\n        params: params,\r\n      }).then((response) => {\r\n        landing(url, params, response.data);\r\n        resolve(response.data);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n/**\r\n * 封装post请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function post(url, data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(url, data).then(\r\n      (response) => {\r\n        //关闭进度条\r\n        resolve(response);\r\n      },\r\n      (err) => {\r\n        reject(err);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction landing(url, params, data) {\r\n    if (data.code === -1) {\r\n    }\r\n  }","let user = {\r\n    user:{}\r\n}\r\nexport default user;","/* \r\n    进行local数据存储的方案\r\n*/\r\nimport store from 'store'\r\n\r\nconst USER_KEY = 'user_key'\r\n\r\nlet actions =  {\r\n    /* 保存user */\r\n    saveUser(user){\r\n        //localStorage.setItem(USER_KEY,JSON.stringify(user))\r\n        store.set(USER_KEY,user)\r\n    },\r\n    /* 读取user */\r\n    getUser(){\r\n        //return JSON.parse(localStorage.getItem(USER_KEY)||'{}')\r\n        return store.get(USER_KEY) || {}\r\n    },\r\n    /* 删除user */\r\n    removeUser(){\r\n        //localStorage.removeItem(USER_KEY)\r\n        store.remove(USER_KEY)\r\n    }\r\n}\r\n\r\nexport default actions;","\r\n\r\n//本地测试\r\n//const URL = 'http://localhost/api' \r\n\r\nconst URL = 'http://alaiala.com:5001/api'\r\nexport default URL","import React, { Component } from 'react'\r\nimport './login.less'\r\nimport img from './imgs/logo.webp'\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { post } from '../../utils/request';\r\nimport memoryUtil from '../../utils/memoryUtils';\r\nimport storageUtils from '../../utils/storageUtils';\r\nimport { Redirect } from 'react-router-dom';\r\nimport defaultUrl from '../../utils/current';\r\n\r\nexport default class Login extends Component {\r\n    onFinish = (values) => {\r\n        post(defaultUrl+'/site/login',values).then(\r\n\t\t\tresponse => {\r\n\t\t\t\t//请求成功后通知App更新状态\r\n                if(response && response.data.code === 20000){\r\n                    message.success('登录成功！');\r\n                    const user = response.data.userInfo;\r\n                    memoryUtil.user = user;\r\n                    storageUtils.saveUser(user);\r\n                    console.log(user)\r\n                    this.props.history.replace('/admin/home');\r\n                }\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\t//请求失败后通知App更新状态\r\n                console.log(error)\r\n\t\t\t}\r\n\t\t)\r\n    };\r\n    \r\n    onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n    render() {\r\n        const user = memoryUtil.user;\r\n        if(user && user.user_id){\r\n            return <Redirect  to=\"/admin/home\"/>\r\n        }\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"login-head\">\r\n                    <img src={img} alt=\"logo\" className=\"login-logo\" />\r\n                    <h1 >react后台登录</h1>\r\n                </div>\r\n                <section className=\"login-body\">\r\n                    <h2>用户登录</h2>\r\n                    <Form\r\n                        name=\"normal_login\"\r\n                        className=\"login-form\"\r\n                        initialValues={{ remember: true }}\r\n                        onFinish={this.onFinish}\r\n                        >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            rules={[{ required: true, message: '请输入用户名!' }]}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            rules={[{ required: true, message: '请输入密码!' }]}\r\n                        >\r\n                            <Input\r\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{margin:'0 auto'}}>\r\n                                登录\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default function formateDate(time){\r\n    if(!time)\r\n        return '';\r\n    let date = new Date(time)\r\n    return date.getFullYear() + '-' + (date.getMonth()+1) + '-' + date.getDate()\r\n        + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + (date.getSeconds()>9?date.getSeconds():'0'+date.getSeconds());\r\n}","export default \"data:image/jpeg;base64,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\"","import {\r\n    AppstoreOutlined,\r\n    PieChartOutlined,\r\n    MailOutlined,\r\n  } from '@ant-design/icons';\r\nconst menuList = [\r\n    {\r\n        key:'/admin/home',\r\n        icon:<PieChartOutlined />,\r\n        path:'/admin/home',\r\n        name:'首页',\r\n        title:'首页',\r\n        disabled:true\r\n    },\r\n    {\r\n        key:'/admin/manage',\r\n        icon:<PieChartOutlined />,\r\n        name:'商品',\r\n        children:[\r\n            {\r\n                key:'/admin/manage/product',\r\n                icon:<PieChartOutlined />,\r\n                path:'/admin/product',\r\n                name:'商品管理',\r\n                title:'商品管理'\r\n            },\r\n            {\r\n                key:'/admin/manage/category',\r\n                icon:<PieChartOutlined />,\r\n                path:'/admin/category',\r\n                name:'分类管理',\r\n                title:'分类管理'\r\n            },\r\n        ],\r\n        title:'商品'\r\n    },\r\n    {\r\n        key:'/admin/charts',\r\n        icon:<PieChartOutlined />,\r\n        name:'图表',\r\n        title:'图表',\r\n        children:[\r\n            {\r\n                disabled:true,\r\n                key:'/admin/charts/line',\r\n                icon:<PieChartOutlined />,\r\n                path:'/admin/charts/line',\r\n                name:'线性图',\r\n                title:'线性图'\r\n            },\r\n            {\r\n                disabled:true,\r\n                key:'/admin/charts/bar',\r\n                icon:<MailOutlined />,\r\n                path:'/admin/charts/bar',\r\n                name:'柱状图',\r\n                title:'柱状图'\r\n            },\r\n            {\r\n                disabled:true,\r\n                key:'/admin/charts/pie',\r\n                icon:<MailOutlined />,\r\n                path:'/admin/charts/pie',\r\n                name:'饼图',\r\n                title:'饼图'\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        key:'/admin/user',\r\n        icon:<AppstoreOutlined />,\r\n        path:'/admin/user',\r\n        name:'用户管理',\r\n        title:'用户管理'\r\n    },\r\n    {\r\n        key:'/admin/role',\r\n        icon:<AppstoreOutlined />,\r\n        path:'/admin/role',\r\n        name:'角色管理',\r\n        title:'角色管理'\r\n    },\r\n\r\n]\r\n\r\nexport default menuList;","import React from 'react'\r\nimport './index.less'\r\n\r\nexport default function LinkButton(props){\r\n    return <button {...props} className='link-button'></button>\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\nimport formateDate from '../../utils/dateUtils'\r\nimport memoryUitls from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\n//import { reqWeather } from '../../api'\r\nimport weatherPic from '../../assets/weather.jpg'\r\nimport { withRouter } from 'react-router'\r\nimport menuList from '../../config/menuConfig'\r\nimport {Modal} from 'antd'\r\nimport LinkButton from '../link-button'\r\n\r\nclass Header extends Component {\r\n    state = {\r\n        currentTime:formateDate(Date.now()),\r\n        dayPictureUrl:'',\r\n        weather:'',\r\n    }\r\n    getTime = ()=>{\r\n        this.timeInterval =  setInterval(() => {\r\n            const currentTime = formateDate(Date.now())\r\n            this.setState({currentTime})\r\n        }, 1000);\r\n    }\r\n    //百度地图api已经失效\r\n    /* getWeather = async()=>{\r\n        const {dayPictureUrl,weather} = await reqWeather('上海')\r\n        console.log({dayPictureUrl,weather})\r\n        this.setState({dayPictureUrl,weather})\r\n    } */\r\n    /* 第一次render之后执行一次\r\n        一般执行异步任务\r\n        发送ajax或者启动定时器\r\n    */\r\n   getTitle = ()=>{\r\n       let t = this.props.location.pathname\r\n       let title\r\n       menuList.forEach(function(item){\r\n            if(item.key===t){\r\n                title = item.name\r\n            }\r\n            else if(item.children){\r\n                const cItem = item.children.find(cItem => t.indexOf(cItem.key)===0)\r\n                // 如果有值才说明有匹配的\r\n                if(cItem) {\r\n                  // 取出它的title\r\n                  title = cItem.name\r\n                }\r\n            }\r\n       })\r\n       return title\r\n   }\r\n   /*退出登录*/\r\n   logout = () =>{\r\n        Modal.confirm({\r\n            /* title:'c', */\r\n            content: '是否确定退出？',\r\n            onOk:()=>{\r\n                storageUtils.removeUser()\r\n                memoryUitls.user = {}\r\n                this.props.history.replace('/login');\r\n            },\r\n            onCancel(){\r\n\r\n            }\r\n        })\r\n   }\r\n    componentDidMount(){\r\n        this.getTime()\r\n        /* this.getWeather() */\r\n        this.setState({weather:'晴天',dayPictureUrl:weatherPic})\r\n    }\r\n    componentWillUnmount(){\r\n        clearInterval(this.timeInterval)\r\n    }\r\n    render() {\r\n        const {currentTime,dayPictureUrl,weather} = this.state;\r\n        const title = this.getTitle();\r\n        const username = memoryUitls.user.username\r\n        return (\r\n            <div className='header'>\r\n                <div className='header-top'>\r\n                    <span>欢迎,{username}</span>\r\n                    <LinkButton onClick={this.logout}>退出</LinkButton>\r\n                </div>\r\n                <div className='header-bottom'>\r\n                    <div className='header-bottom-left'>{title}</div>\r\n                    <div className='header-bottom-right'>\r\n                        <span>{currentTime}</span>\r\n                        <img style={{width:'25px'}} src={dayPictureUrl} alt='weather'/>\r\n                        <span>{weather}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Header)","export default __webpack_public_path__ + \"static/media/logo2.0f298de3.jpg\";","import React, { Component } from 'react'\r\nimport { Menu } from 'antd';\r\nimport './index.less'\r\nimport logo from '../../assets/logo2.jpg'\r\nimport { Link ,withRouter} from 'react-router-dom';\r\nimport menuList from '../../config/menuConfig';\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass LeftNav extends Component {\r\n    state = {\r\n        collapsed: false,\r\n      };\r\n    \r\n    toggleCollapsed = () => {\r\n      this.setState({\r\n        collapsed: !this.state.collapsed,\r\n      });\r\n    };\r\n    getMenuNodes = (menuList)=>{\r\n        const user = memoryUtils.user\r\n        return menuList.map(item=>{\r\n            let disable = user.auth.indexOf(item.key) === -1\r\n            if(!item.children)\r\n            /*name,key,icon,children*/\r\n                return (<Menu.Item key={item.key} icon={item.icon} disabled={disable}>\r\n                            <Link to={item.key}>{item.name}</Link>\r\n                        </Menu.Item>)\r\n            else{\r\n                return (<SubMenu key={item.key} icon={item.icon} title={item.name} disabled={disable}>\r\n                            {this.getMenuNodes(item.children)}\r\n                        </SubMenu>)\r\n            }\r\n        })\r\n       \r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.menuNode = this.getMenuNodes(menuList)\r\n    }\r\n    render() {\r\n        let path = this.props.location.pathname;\r\n        const group = path.split('/')\r\n        let selected = group.slice(0,3).join('/')\r\n        path = path.indexOf('/product')===-1 ?path:group.slice(0,4).join('/')\r\n        return (\r\n            <div className='left-nav'>\r\n                <Link className='left-nav-header' to='/'>\r\n                    <img src={logo} alt='logo' />\r\n                    <h1>管理后台</h1>\r\n                </Link>\r\n                <Menu\r\n                    defaultSelectedKeys={[path]}\r\n                    defaultOpenKeys={[selected]}\r\n                    mode=\"inline\"\r\n                    theme=\"dark\"\r\n                    inlineCollapsed={this.state.collapsed}\r\n                    >\r\n                 {/*   <Menu.Item key=\"1\" icon={menuList[0].icon}>\r\n                        <Link to='/admin/home'>\r\n                            首页\r\n                        </Link>\r\n                    </Menu.Item>\r\n                    <SubMenu key=\"sub1\" icon={<MailOutlined />} title=\"商品\">\r\n                        <Menu.Item key=\"2\" icon={<MailOutlined />}><Link to='/admin/product'>商品管理</Link></Menu.Item>\r\n                        <Menu.Item key=\"3\"><Link to='/admin/category'>品类管理</Link></Menu.Item>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"sub2\" icon={<AppstoreOutlined />} title=\"图表\">\r\n                        <Menu.Item key=\"4\"><Link to='/admin/charts/line'>线性图</Link></Menu.Item>\r\n                        <Menu.Item key=\"5\"><Link to='/admin/charts/bar'>柱状图</Link></Menu.Item>\r\n                        <Menu.Item key=\"6\"><Link to='/admin/charts/pie'>饼图</Link></Menu.Item>\r\n                    </SubMenu>\r\n                    <Menu.Item key=\"7\" icon={<PieChartOutlined />}>\r\n                        <Link to='/admin/user'>用户管理</Link>\r\n                    </Menu.Item>\r\n                */}\r\n                    {this.menuNode}\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(LeftNav)","import React, {Component} from 'react'\r\n/* import {Card, Button} from 'antd' */\r\nimport ReactEcharts from 'echarts-for-react'\r\n\r\n/*\r\n后台管理的折线图路由组件\r\n */\r\nexport default class Line extends Component {\r\n\r\n  state = {\r\n    sales: [5, 20, 36, 10, 10, 20], // 销量的数组\r\n    stores: [6, 10, 25, 20, 15, 10], // 库存的数组\r\n  }\r\n\r\n  update = () => {\r\n    this.setState(state => ({\r\n      sales: state.sales.map(sale => sale + 1),\r\n      stores: state.stores.reduce((pre, store) => {\r\n        pre.push(store-1)\r\n        return pre\r\n      }, []),\r\n    }))\r\n  }\r\n\r\n  /*\r\n  返回柱状图的配置对象\r\n   */\r\n  getOption = (sales, stores) => {\r\n    return {\r\n      title: {\r\n        text: '销量库存线形图'\r\n      },\r\n      tooltip: {},\r\n      legend: {\r\n        data:['销量', '库存']\r\n      },\r\n      xAxis: {\r\n        data: [\"衬衫\",\"羊毛衫\",\"雪纺衫\",\"裤子\",\"高跟鞋\",\"袜子\"]\r\n      },\r\n      yAxis: {},\r\n      series: [{\r\n        name: '销量',\r\n        type: 'line',\r\n        data: sales\r\n      }, {\r\n        name: '库存',\r\n        type: 'line',\r\n        data: stores\r\n      }]\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {sales, stores} = this.state\r\n    return (\r\n      <div>\r\n{/*         <Card>\r\n          <Button type='primary' onClick={this.update}>更新</Button>\r\n        </Card> */}\r\n\r\n        {/* <Card title='折线图一'> */}\r\n          <ReactEcharts option={this.getOption(sales, stores)} />\r\n        {/* </Card> */}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react'\r\n/* import {Card, Button} from 'antd' */\r\nimport ReactEcharts from 'echarts-for-react'\r\n\r\n/*\r\n后台管理的柱状图路由组件\r\n */\r\nexport default class Bar extends Component {\r\n\r\n  state = {\r\n    sales: [5, 20, 36, 10, 10, 20], // 销量的数组\r\n    stores: [6, 10, 25, 20, 15, 10], // 库存的数组\r\n  }\r\n\r\n  update = () => {\r\n    this.setState(state => ({\r\n      sales: state.sales.map(sale => sale + 1),\r\n      stores: state.stores.reduce((pre, store) => {\r\n        pre.push(store-1)\r\n        return pre\r\n      }, []),\r\n    }))\r\n  }\r\n\r\n  /*\r\n  返回柱状图的配置对象\r\n   */\r\n  getOption = (sales, stores) => {\r\n    return {\r\n      title: {\r\n        text: '销量库存柱状图'\r\n      },\r\n      tooltip: {},\r\n      legend: {\r\n        data:['销量', '库存']\r\n      },\r\n      xAxis: {\r\n        data: [\"衬衫\",\"羊毛衫\",\"雪纺衫\",\"裤子\",\"高跟鞋\",\"袜子\"]\r\n      },\r\n      yAxis: {},\r\n      series: [{\r\n        name: '销量',\r\n        type: 'bar',\r\n        data: sales\r\n      }, {\r\n        name: '库存',\r\n        type: 'bar',\r\n        data: stores\r\n      }]\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {sales, stores} = this.state\r\n    return (\r\n      <div>\r\n       {/*  <Card>\r\n          <Button type='primary' onClick={this.update}>更新</Button>\r\n        </Card>\r\n\r\n        <Card title='柱状图一'> */}\r\n          <ReactEcharts option={this.getOption(sales, stores)} />\r\n        {/* </Card> */}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n  /* Icon, */\r\n  Card,\r\n  /* Statistic, */\r\n  DatePicker,\r\n  Timeline\r\n} from 'antd'\r\nimport moment from 'moment'\r\n\r\nimport Line from './line'\r\nimport Bar from './bar'\r\nimport './index.less'\r\n\r\nconst dateFormat = 'YYYY/MM/DD'\r\nconst {RangePicker} = DatePicker\r\n\r\nexport default class Home extends Component {\r\n\r\n  state = {\r\n    isVisited: true\r\n  }\r\n\r\n  handleChange = (isVisited) => {\r\n    return () => this.setState({isVisited})\r\n  }\r\n\r\n  render() {\r\n    const {isVisited} = this.state\r\n\r\n    return (\r\n      <div className='home'>\r\n{/*         <Card\r\n          className=\"home-card\"\r\n          title=\"商品总量\"\r\n          extra={<Icon style={{color: 'rgba(0,0,0,.45)'}} type=\"question-circle\"/>}\r\n          style={{width: 250}}\r\n          headStyle={{color: 'rgba(0,0,0,.45)'}}\r\n        >\r\n          <Statistic\r\n            value={1128163}\r\n            suffix=\"个\"\r\n            style={{fontWeight: 'bolder'}}\r\n          />\r\n          <Statistic\r\n            value={15}\r\n            valueStyle={{fontSize: 15}}\r\n            prefix={'周同比'}\r\n            suffix={<div>%<Icon style={{color: 'red', marginLeft: 10}} type=\"arrow-down\"/></div>}\r\n          />\r\n          <Statistic\r\n            value={10}\r\n            valueStyle={{fontSize: 15}}\r\n            prefix={'日同比'}\r\n            suffix={<div>%<Icon style={{color: '#3f8600', marginLeft: 10}} type=\"arrow-up\"/></div>}\r\n          />\r\n        </Card> */}\r\n\r\n        <Line/>\r\n\r\n        <Card\r\n          className=\"home-content\"\r\n          title={<div className=\"home-menu\">\r\n            <span className={isVisited ? \"home-menu-active home-menu-visited\" : 'home-menu-visited'}\r\n                  onClick={this.handleChange(true)}>访问量</span>\r\n            <span className={isVisited ? \"\" : 'home-menu-active'} onClick={this.handleChange(false)}>销售量</span>\r\n          </div>}\r\n          extra={<RangePicker\r\n            defaultValue={[moment('2019/01/01', dateFormat), moment('2019/06/01', dateFormat)]}\r\n            format={dateFormat}\r\n          />}\r\n        >\r\n          <Card\r\n            className=\"home-table-left\"\r\n            title={isVisited ? '访问趋势' : '销售趋势'}\r\n            bodyStyle={{padding: 0, height: 275}}\r\n            /* extra={<Icon type=\"reload\"/>} */\r\n          >\r\n            <Bar/>\r\n          </Card>\r\n\r\n          <Card title='任务' /* extra={<Icon type=\"reload\"/>} */ className=\"home-table-right\">\r\n            <Timeline>\r\n              <Timeline.Item color=\"green\">需求调研</Timeline.Item>\r\n              <Timeline.Item color=\"green\">网站设计</Timeline.Item>\r\n              <Timeline.Item color=\"red\">\r\n                <p>接口设计</p>\r\n                <p>功能开发</p>\r\n              </Timeline.Item>\r\n              <Timeline.Item>\r\n                <p>测试验收</p>\r\n                <p>功能上线</p>\r\n              </Timeline.Item>\r\n            </Timeline>\r\n          </Card>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\n\r\nexport default class Line extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                line\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Bar extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                bar\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Pie extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                pie\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const arr = [\r\n    {\r\n      value: '1',\r\n      label: '电器',\r\n      children: [\r\n        {\r\n          value: '11',\r\n          label: '电脑',\r\n        },\r\n        {\r\n          value: '12',\r\n          label: '电视',\r\n        },\r\n        {\r\n          value: '13',\r\n          label: '空调',\r\n        },\r\n        {\r\n          value: '14',\r\n          label: '电扇',\r\n        },\r\n        {\r\n          value: '15',\r\n          label: '冰箱',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: '2',\r\n      label: '电子产品',\r\n      children: [\r\n        {\r\n          value: '21',\r\n          label: '手机',\r\n        },\r\n        {\r\n          value: '22',\r\n          label: '笔记本电脑',\r\n        },\r\n        {\r\n          value: '23',\r\n          label: '电子表',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: '3',\r\n      label: '食品',\r\n      children: [\r\n        {\r\n          value: '31',\r\n          label: '饮料',\r\n        },\r\n        {\r\n          value: '32',\r\n          label: '面包',\r\n        },\r\n        {\r\n          value: '33',\r\n          label: '泡面',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: '4',\r\n      label: '美妆',\r\n      disabled: true,\r\n      children: [\r\n        {\r\n          value: '41',\r\n          label: '口红',\r\n        },\r\n        {\r\n          value: '42',\r\n          label: '卸妆油',\r\n        },\r\n        {\r\n          value: '43',\r\n          label: '粉底',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: '5',\r\n      label: '办公',\r\n      children: [\r\n        {\r\n          value: '51',\r\n          label: '笔记本',\r\n        },\r\n        {\r\n          value: '52',\r\n          label: '水笔',\r\n          disabled:true\r\n        },\r\n        {\r\n          value: '53',\r\n          label: '订书机',\r\n        },\r\n        {\r\n          value: '54',\r\n          label: '打印机',\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  export default arr","/*\r\n能发送异步ajax请求的函数模块\r\n封装axios库\r\n函数的返回值是promise对象\r\n1. 优化1: 统一处理请求异常?\r\n    在外层包一个自己创建的promise对象\r\n    在请求出错时, 不reject(error), 而是显示错误提示\r\n2. 优化2: 异步得到不是reponse, 而是response.data\r\n   在请求成功resolve时: resolve(response.data)\r\n */\r\n\r\nimport axios from 'axios'\r\nimport {message} from 'antd'\r\n\r\nexport default function ajax(url, data={}, type='GET') {\r\n\r\n  return new Promise((resolve, reject) => {\r\n    let promise\r\n    // 1. 执行异步ajax请求\r\n    if(type==='GET') { // 发GET请求\r\n      promise = axios.get(url, { // 配置对象\r\n        params: data // 指定请求参数\r\n      })\r\n    } else { // 发POST请求\r\n      promise = axios.post(url, data)\r\n    }\r\n    // 2. 如果成功了, 调用resolve(value)\r\n    promise.then(response => {\r\n      resolve(response.data)\r\n    // 3. 如果失败了, 不调用reject(reason), 而是提示异常信息\r\n    }).catch(error => {\r\n      // reject(error)\r\n      message.error('请求出错了: ' + error.message)\r\n    })\r\n  })\r\n\r\n\r\n}\r\n\r\n// 请求登陆接口\r\n// ajax('/login', {username: 'Tom', passsword: '12345'}, 'POST').then()\r\n// 添加用户\r\n// ajax('/manage/user/add', {username: 'Tom', passsword: '12345', phone: '13712341234'}, 'POST').then()\r\n","/*\r\n要求: 能根据接口文档定义接口请求\r\n包含应用中所有接口请求函数的模块\r\n每个函数的返回值都是promise\r\n\r\n基本要求: 能根据接口文档定义接口请求函数\r\n */\r\nimport jsonp from 'jsonp'\r\nimport {message} from 'antd'\r\nimport ajax from './ajax'\r\nimport { post } from '../utils/request';\r\nimport defaultUrl from '../utils/current';\r\n\r\n// const BASE = 'http://localhost:5000'\r\nconst BASE = '';\r\n// 登陆\r\n/*\r\nexport function reqLogin(username, password) {\r\n  return ajax('/login', {username, password}, 'POST')\r\n}*/\r\nexport const reqLogin = (username, password) => ajax(BASE + '/login', {username, password}, 'POST')\r\n\r\n// 获取一级/二级分类的列表\r\nexport const reqCategorys = (parentId) => //ajax(BASE + '/manage/category/list', {parentId})\r\n{\r\n   return new Promise(function(resolve,reject){\r\n      setTimeout(() => {\r\n        if(parentId ==='0'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'0',name:'电器',id:'1'},\r\n            {parentId:'0',name:'电子产品',id:'2'},\r\n            {parentId:'0',name:'食品',id:'3'},\r\n            {parentId:'0',name:'美妆',id:'4'},\r\n            {parentId:'0',name:'办公',id:'5'},\r\n            {parentId:'0',name:'生活用品',id:'6'},\r\n            {parentId:'0',name:'穿着',id:'7'},\r\n            {parentId:'0',name:'家具',id:'8'},\r\n          ]})\r\n        }\r\n        else if(parentId === '1'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'1',name:'电脑',id:'11',},\r\n            {parentId:'1',name:'电视',id:'12',},\r\n            {parentId:'1',name:'空调',id:'13',},\r\n            {parentId:'1',name:'电扇',id:'14',},\r\n            {parentId:'1',name:'冰箱',id:'15',},\r\n          ]})\r\n        }\r\n        else if(parentId === '2'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'2',name:'手机',id:'21',},\r\n            {parentId:'2',name:'笔记本电脑',id:'22',},\r\n            {parentId:'2',name:'电子表',id:'23',},\r\n          ]})\r\n        }\r\n        else if(parentId === '3'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'3',name:'饮料',id:'31',},\r\n            {parentId:'3',name:'面包',id:'32',},\r\n            {parentId:'3',name:'泡面',id:'33',},\r\n          ]})\r\n        }\r\n        else if(parentId === '4'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'4',name:'口红',id:'41',},\r\n            {parentId:'4',name:'卸妆油',id:'42',},\r\n            {parentId:'4',name:'粉底',id:'43',},\r\n          ]})\r\n        }\r\n        else if(parentId === '5'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'5',name:'笔记本',id:'51',},\r\n            {parentId:'5',name:'水笔',id:'52',},\r\n            {parentId:'5',name:'订书机',id:'53',},\r\n            {parentId:'5',name:'打印机',id:'54',},\r\n          ]})\r\n        }\r\n        else if(parentId === '6'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'6',name:'菜刀',id:'61',},\r\n            {parentId:'6',name:'叉子',id:'62',},\r\n            {parentId:'6',name:'勺子',id:'63',},\r\n            {parentId:'6',name:'碗',id:'64',},\r\n          ]})\r\n        }\r\n        else if(parentId === '7'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'7',name:'衣服',id:'71',},\r\n            {parentId:'7',name:'裤子',id:'72',},\r\n            {parentId:'7',name:'鞋子',id:'73',},\r\n            {parentId:'7',name:'袜子',id:'74',},\r\n          ]})\r\n        }\r\n        else if(parentId === '8'){\r\n          resolve({\r\n            status:'0',\r\n            data:[\r\n            {parentId:'8',name:'桌子',id:'81',},\r\n            {parentId:'8',name:'椅子',id:'82',},\r\n            {parentId:'8',name:'橱窗',id:'83',},\r\n            {parentId:'8',name:'凳子',id:'84',},\r\n          ]})\r\n        }\r\n        else{\r\n          resolve({\r\n            status:'-1'\r\n          })\r\n        }\r\n      }, 1000);\r\n   })\r\n}\r\n\r\nexport const reqProducts = (conditions)=>{\r\n  let productInfo = \r\n    {products:[\r\n      {\r\n        id: '1',\r\n        name: '胡彦斌',\r\n        price: 32333,\r\n        descripition: '西湖区湖底公园1号',\r\n        status:0\r\n      },\r\n      {\r\n        id: '2',\r\n        name: '胡彦祖',\r\n        price: 4342,\r\n        descripition: '西湖区湖底公园1号',\r\n        status:1\r\n      }]}\r\n    return new Promise((resolve,reject)=>{\r\n        post(defaultUrl+'/request/req-products',conditions).then(\r\n          response => {\r\n            //请求成功后通知App更新状态\r\n              console.log(response.data.data)\r\n              productInfo = response.data.data  \r\n              resolve(productInfo)\r\n            },\r\n          error => {\r\n            //请求失败后通知App更新状态\r\n              console.log(error)\r\n              reject(error)\r\n          }\r\n        )\r\n    })\r\n}\r\nexport const reqUpdateStatus = (productId, status) =>{\r\n  return new Promise((resolve,reject)=>{\r\n      const newStatus = status ===0? 1:0\r\n      post(defaultUrl+'/request/update-products-status',{id:productId,status:newStatus}).then(\r\n        response => {\r\n            if(response.data.status===0)\r\n              resolve(0)\r\n            else\r\n              resolve(1)\r\n          },\r\n        error => {\r\n          resolve(0)\r\n        }\r\n      )\r\n  })\r\n}\r\n\r\n// 添加分类\r\nexport const reqAddCategory = (categoryName, parentId) => ajax(BASE + '/manage/category/add', {categoryName, parentId}, 'POST')\r\n\r\n// 更新分类\r\nexport const reqUpdateCategory = ({categoryId, categoryName}) => ajax(BASE + '/manage/category/update', {categoryId, categoryName}, 'POST')\r\n\r\n// 获取一个分类\r\nexport const reqCategory = (categoryId) => ajax(BASE + '/manage/category/info', {categoryId})\r\n\r\n// 获取商品分页列表\r\n/* export const reqProducts = (pageNum, pageSize) => ajax(BASE + '/manage/product/list', {pageNum, pageSize})\r\n */\r\n// 更新商品的状态(上架/下架)\r\n/* export const reqUpdateStatus = (productId, status) => ajax(BASE + '/manage/product/updateStatus', {productId, status}, 'POST') */\r\n\r\n\r\n\r\n/*\r\n搜索商品分页列表 (根据商品名称/商品描述)\r\nsearchType: 搜索的类型, productName/productDesc\r\n */\r\nexport const reqSearchProducts = ({pageNum, pageSize, searchName, searchType}) => ajax(BASE + '/manage/product/search', {\r\n  pageNum,\r\n  pageSize,\r\n  [searchType]: searchName,\r\n})\r\n\r\n// 搜索商品分页列表 (根据商品描述)\r\n/*export const reqSearchProducts2 = ({pageNum, pageSize, searchName}) => ajax(BASE + '/manage/product/search', {\r\n  pageNum,\r\n  pageSize,\r\n  productDesc: searchName,\r\n})*/\r\n\r\n// 删除指定名称的图片\r\n/* export const reqDeleteImg = (name) => ajax(BASE + '/manage/img/delete', {name}, 'POST') */\r\nexport const reqDeleteImg = (name)=>{\r\n  return new Promise((resolve,reject)=>{\r\n    post(defaultUrl+'/request/delete-picture',{name:name}).then(\r\n      response => {\r\n          if(response.data.status===0)\r\n            resolve(0)\r\n          else\r\n            resolve(1)\r\n        },\r\n      error => {\r\n        resolve(1)\r\n      }\r\n    )\r\n  })\r\n}\r\n\r\n// 添加/修改商品\r\n/* export const reqAddOrUpdateProduct = (product) => ajax(BASE + '/manage/product/' + ( product._id?'update':'add'), product, 'POST') */\r\nexport const reqAddOrUpdateProduct = (product) =>{\r\n  return new Promise((resolve,reject)=>{\r\n    post(defaultUrl+'/request/add-update-product',{product}).then(\r\n      response => {\r\n          if(response.data.status===0)\r\n            resolve(0)\r\n          else\r\n            resolve(1)\r\n        },\r\n      error => {\r\n        resolve(1)\r\n      }\r\n    )\r\n  })\r\n}\r\n\r\n// 修改商品\r\n// export const reqUpdateProduct = (product) => ajax(BASE + '/manage/product/update', product, 'POST')\r\n\r\n\r\n// 获取所有角色的列表\r\nexport const reqRoles = () => ajax(defaultUrl+'/request/get-roles')\r\n// 添加角色\r\nexport const reqAddRole = (roleName) => ajax(defaultUrl + '/request/add-role', {roleName}, 'POST')\r\n// 添加角色\r\nexport const reqUpdateRole = (role) => ajax(defaultUrl + '/request/update-role', role, 'POST')\r\n\r\n// 获取所有用户的列表\r\n/* export const reqUsers = () => ajax(BASE + '/manage/user/list') */\r\nexport const reqUsers = () => ajax(defaultUrl + '/request/get-users')\r\n// 删除指定用户\r\nexport const reqDeleteUser = (id) => ajax(defaultUrl + '/request/delete-user', {id}, 'POST')\r\n// 添加/更新用户\r\nexport const reqAddOrUpdateUser = (user) => ajax(defaultUrl + '/request/'+(user.user_id ? 'update' : 'add')+'-user', user, 'POST')\r\n\r\n/*\r\njson请求的接口请求函数\r\n */\r\nexport const reqWeather = (city) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\r\n    // 发送jsonp请求\r\n    jsonp(url, {}, (err, data) => {\r\n      console.log('jsonp()', err, data)\r\n      // 如果成功了\r\n      if (!err && data.status==='success') {\r\n        // 取出需要的数据\r\n        const {dayPictureUrl, weather} = data.results[0].weather_data[0]\r\n        resolve({dayPictureUrl, weather})\r\n      } else {\r\n        // 如果失败了\r\n        message.error('获取天气信息失败!')\r\n      }\r\n\r\n    })\r\n  })\r\n}\r\n// reqWeather('北京')\r\n/*\r\njsonp解决ajax跨域的原理\r\n  1). jsonp只能解决GET类型的ajax请求跨域问题\r\n  2). jsonp请求不是ajax请求, 而是一般的get请求\r\n  3). 基本原理\r\n   浏览器端:\r\n      动态生成<script>来请求后台接口(src就是接口的url)\r\n      定义好用于接收响应数据的函数(fn), 并将函数名通过请求参数提交给后台(如: callback=fn)\r\n   服务器端:\r\n      接收到请求处理产生结果数据后, 返回一个函数调用的js代码, 并将结果数据作为实参传入函数调用\r\n   浏览器端:\r\n      收到响应自动执行函数调用的js代码, 也就执行了提前定义好的回调函数, 并得到了需要的结果数据\r\n */","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Upload, Modal,message} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport {reqDeleteImg} from '../../../../api/index';\r\nimport defaultUrl from '../../../../utils/current';\r\n\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nclass PicturesWall extends Component {\r\n  static propTypes = {\r\n    imgs: PropTypes.array\r\n  }\r\n  state = {\r\n    previewVisible: false,\r\n    previewImage: '',\r\n    previewTitle: '',\r\n    fileList: [\r\n         /*{\r\n        uid: '-1', // 每个file都有自己唯一的id\r\n        name: 'xxx.png', // 图片文件名\r\n        status: 'done', // 图片状态: done-已上传, uploading: 正在上传中, removed: 已删除\r\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png', // 图片地址\r\n      },*/\r\n    ],\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    let fileList = []\r\n\r\n    // 如果传入了imgs属性\r\n    const {imgs} = this.props\r\n    if (imgs && imgs.length>0) {\r\n      fileList = imgs.map((img, index) => ({\r\n        uid: -index, // 每个file都有自己唯一的id\r\n        name: img, // 图片文件名\r\n        status: 'done', // 图片状态: done-已上传, uploading: 正在上传中, removed: 已删除\r\n        url: defaultUrl+'/image/'+img\r\n      }))\r\n    }\r\n\r\n    // 初始化状态\r\n    this.state = {\r\n      previewVisible: false, // 标识是否显示大图预览Modal\r\n      previewImage: '', // 大图的url\r\n      fileList // 所有已上传图片的数组\r\n    }\r\n  }\r\n  getImgs  = () => {\r\n    return this.state.fileList.map(file => file.name)\r\n  }\r\n\r\n  handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n  handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    this.setState({\r\n      previewImage: file.url || file.preview,\r\n      previewVisible: true,\r\n      previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1),\r\n    });\r\n  };\r\n\r\n    /*\r\n  file: 当前操作的图片文件(上传/删除)\r\n  fileList: 所有已上传图片文件对象的数组\r\n   */\r\n  handleChange = async ({ file, fileList }) => {\r\n    let flag = 0\r\n    const that = this\r\n    // 一旦上传成功, 将当前上传的file的信息修正(name, url)\r\n    if(file.status==='done') {\r\n      const result = file.response  // {status: 0, data: {name: 'xxx.jpg', url: '图片地址'}}\r\n      console.log(result)\r\n      if(result.status===0) {\r\n        message.success('上传图片成功!')\r\n        const {name, url} = result\r\n        file = fileList[fileList.length-1]\r\n        file.name = name\r\n        file.url = url\r\n      } else {\r\n        message.error('上传图片失败')\r\n      }\r\n    } else if (file.status==='removed') { // 删除图片\r\n      flag = 1\r\n      Modal.confirm({\r\n        /* title:'c', */\r\n        content: '是否同时删除远程图片？',\r\n        onOk:async()=>{\r\n          const result = await reqDeleteImg(file.name)\r\n          console.log(result)\r\n          if (result===0) {\r\n            message.success('删除图片成功!')\r\n          } else {\r\n            message.error('删除图片失败!')\r\n          }\r\n          that.setState({ fileList })\r\n        },\r\n        onCancel(){\r\n          that.setState({ fileList })\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n    // 在操作(上传/删除)过程中更新fileList状态\r\n    if(flag===0)\r\n      this.setState({ fileList })\r\n  };\r\n\r\n  render() {\r\n    const { previewVisible, previewImage, fileList, previewTitle } = this.state;\r\n    const uploadButton = (\r\n      <div>\r\n        <PlusOutlined />\r\n        <div style={{ marginTop: 8 }}>Upload</div>\r\n      </div>\r\n    );\r\n    return (\r\n      <>\r\n        <Upload\r\n          action= {defaultUrl+\"/request/add-picture\"}\r\n          listType=\"picture-card\"\r\n          accept='image/*'  /*只接受图片格式*/\r\n          fileList={fileList}\r\n          onPreview={this.handlePreview}\r\n          onChange={this.handleChange}\r\n          name='image'\r\n        >\r\n          {fileList.length >= 4 ? null : uploadButton}\r\n        </Upload>\r\n        <Modal\r\n          visible={previewVisible}\r\n          title={previewTitle}\r\n          footer={null}\r\n          onCancel={this.handleCancel}\r\n        >\r\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PicturesWall","/*\r\n用来指定商品详情的富文本编辑器组件\r\n */\r\nimport React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {EditorState, convertToRaw, ContentState} from 'draft-js'\r\nimport {Editor} from 'react-draft-wysiwyg'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\nimport defaultUrl from '../../../../utils/current'\r\n\r\n\r\nexport default class RichTextEditor extends Component {\r\n  \r\n  static propTypes = {\r\n    detail: PropTypes.string\r\n  }\r\n  \r\n  state = {\r\n    editorState: EditorState.createEmpty(), // 创建一个没有内容的编辑对象\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const html = this.props.detail\r\n    if (html) { // 如果有值, 根据html格式字符串创建一个对应的编辑对象\r\n      const contentBlock = htmlToDraft(html)\r\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks)\r\n      const editorState = EditorState.createWithContent(contentState)\r\n      this.state = {\r\n        editorState,\r\n      }\r\n    } else {\r\n      this.state = {\r\n        editorState: EditorState.createEmpty(), // 创建一个没有内容的编辑对象\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /*\r\n  输入过程中实时的回调\r\n   */\r\n  onEditorStateChange = (editorState) => {\r\n    console.log('onEditorStateChange()')\r\n    this.setState({\r\n      editorState,\r\n    })\r\n  }\r\n\r\n  getDetail = () => {\r\n    // 返回输入数据对应的html格式的文本\r\n    return draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n  }\r\n\r\n  uploadImageCallBack = (file) => {\r\n    return new Promise(\r\n      (resolve, reject) => {\r\n        const xhr = new XMLHttpRequest()\r\n        xhr.open('POST', defaultUrl+'/request/add-picture')\r\n        const data = new FormData()\r\n        data.append('image', file)\r\n        xhr.send(data)\r\n        xhr.addEventListener('load', () => {\r\n          const response = JSON.parse(xhr.responseText)\r\n          const url = response.url // 得到图片的url\r\n          resolve({data: {link: defaultUrl+url.split('/web')[1]}})\r\n        })\r\n        xhr.addEventListener('error', () => {\r\n          const error = JSON.parse(xhr.responseText)\r\n          reject(error)\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {editorState} = this.state\r\n    return (\r\n      <Editor\r\n        editorState={editorState}\r\n        editorStyle={{border: '1px solid black', minHeight: 200, paddingLeft: 10}}\r\n        onEditorStateChange={this.onEditorStateChange}\r\n        toolbar={{\r\n          image: { uploadCallback: this.uploadImageCallBack, alt: { present: true, mandatory: true } },\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\n\r\nimport {\r\n  Card,\r\n  Form,\r\n  Input,\r\n  Cascader,\r\n  Button,\r\n  message\r\n}\r\nfrom 'antd'\r\n\r\nimport categoryOptions from '../../../../utils/categoryList'\r\n\r\nimport {ArrowLeftOutlined} from '@ant-design/icons'\r\n\r\nimport LinkButton from '../../../../components/link-button'\r\n\r\nimport PicturesWall from './pictures-wall'\r\n\r\nimport RichTextEditor from './rich-text-editor'\r\n\r\nimport { reqAddOrUpdateProduct } from '../../../../api'\r\n\r\n\r\n\r\nconst {Item} = Form\r\nconst {TextArea} = Input\r\n\r\nexport default class AddProduct extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    // 创建用来保存ref标识的标签对象的容器\r\n    this.pw = React.createRef()\r\n    this.editor = React.createRef()\r\n  }\r\n  changeCagetory = (value, selectedOptions)=>{\r\n    console.log(value,selectedOptions)\r\n    this.category = selectedOptions[0].label\r\n    this.category += selectedOptions[1]? '->'+selectedOptions[1].label:''\r\n  }\r\n  submit = async()=>{\r\n    try {\r\n\t    const values = await this.formRef.current.validateFields();\r\n      const imgs = this.pw.current.getImgs()\r\n      const details = this.editor.current.getDetail()\r\n\t    console.log('Success:', values,imgs);\r\n\t    message.success('提交校验成功')\r\n      values.imgs = imgs.join(',')\r\n      values.details = details\r\n      if(this.isUpdate) {\r\n        values.id = this.product.id\r\n      }\r\n      values.category_ids = values.category.join(',')\r\n      values.category = this.category\r\n      // 2. 调用接口请求函数去添加/更新\r\n      const result = await reqAddOrUpdateProduct(values)\r\n      // 3. 根据结果提示\r\n      if (result===0) {\r\n        message.success(`${this.isUpdate ? '更新' : '添加'}商品成功!`)\r\n        this.props.history.goBack()\r\n      } else {\r\n        message.error(`${this.isUpdate ? '更新' : '添加'}商品失败!`)\r\n      }\r\n\t  } catch (errorInfo) {\r\n\t    console.log('Failed:', errorInfo);\r\n\t    message.warn('提交校验失败')\r\n\t  }\r\n  }\r\n  formRef = React.createRef()\r\n  validatePrice = (rule, value, callback) => {\r\n    console.log(value, typeof value)\r\n    if (value*1 > 0) {\r\n      callback() // 验证通过\r\n    } else {\r\n      callback('价格必须大于0') // 验证没通过\r\n    }\r\n  }\r\n  UNSAFE_componentWillMount(){\r\n    const product =  this.props.location.state\r\n    this.isUpdate = !!product\r\n    this.product = product || {}\r\n    this.category = product?product.category:''\r\n  }\r\n  render() {\r\n    const {isUpdate,product} = this\r\n    const { imgs, details} = product\r\n    const title = (\r\n      <span>\r\n        <LinkButton>  \r\n          <ArrowLeftOutlined        \r\n            style={{marginRight: 10, fontSize: 20}}\r\n            onClick={() => this.props.history.goBack()}/>\r\n            <span>{isUpdate?'修改商品':'添加商品'}</span>\r\n        </LinkButton>\r\n      </span>\r\n    )\r\n    const formItemLayout = {\r\n      labelCol:{span:2},\r\n      wrapperCol:{span:8},\r\n    }\r\n    return (\r\n      <Card title={title}>\r\n        <Form {...formItemLayout} ref={this.formRef}>\r\n          <Item\r\n            label=\"商品名称\"\r\n            name=\"name\"\r\n            initialValue={product.name}\r\n            rules={[{ required: true, message: '请输入商品名称!' }]}\r\n          >\r\n            <Input placeholder='请输入商品名称' />\r\n          </Item>\r\n          <Item label='商品描述'\r\n            initialValue={product.description}\r\n            name=\"description\"\r\n            rules={[{ required: true, message: '请输入商品描述!' }]}\r\n          >\r\n            <TextArea placeholder='请输入商品描述' autoSize={{maxRows:6,minRows:2}}>\r\n            </TextArea>\r\n          </Item>\r\n          <Item\r\n            label=\"商品价格\"\r\n            name=\"price\"\r\n            initialValue={product.price}\r\n            rules={[{ required: true, message: '请输入商品价格!' },{validator: this.validatePrice}]}\r\n          >\r\n            <Input placeholder='请输入商品价格' \r\n              type='number' addonAfter='元' />\r\n          </Item>\r\n          <Item label='商品分类'\r\n            name=\"category\"\r\n            rules={[{ required: true, message: '请选择商品分类!' }]}\r\n            initialValue={product.category_ids?product.category_ids.split(','):[]}\r\n            >\r\n            <Cascader \r\n              options={categoryOptions}\r\n              expandTrigger=\"hover\"\r\n              changeOnSelect \r\n              onChange={this.changeCagetory}\r\n            />\r\n          </Item>\r\n          <Item label='商品图片'>\r\n            <PicturesWall ref={this.pw} imgs={!imgs?[]:imgs.split(',')} />\r\n          </Item>\r\n          <Item label='商品详情' labelCol={{span: 2}} wrapperCol={{span: 20}}>\r\n            <RichTextEditor ref={this.editor} detail={details}/>\r\n          </Item>\r\n          <Item>\r\n            <Button type='primary' onClick={this.submit}>提交</Button>\r\n          </Item>\r\n        </Form>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport {\r\n  Card,\r\n  List,\r\n} from 'antd'\r\nimport {ArrowLeftOutlined} from '@ant-design/icons'\r\n\r\nimport LinkButton from '../../../../components/link-button'\r\n\r\nimport './product.less'\r\n\r\nimport defaultUrl from '../../../../utils/current';\r\n\r\nconst Item = List.Item\r\n/* \r\n    product详情子路由组件\r\n*/\r\nexport default class ProductDetails extends Component {\r\n    state = {\r\n        categoryName1:'',\r\n        categoryName2:''\r\n    }\r\n    componentDidMount(){\r\n        const {category} = this.props.location.state.product\r\n        this.setState({\r\n            categoryName1:category.split('->')[0],\r\n            categoryName2:category.split('->')[1]\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        let {name, description, price,imgs,details} = this.props.location.state.product\r\n        const {categoryName1, categoryName2} = this.state\r\n        imgs = imgs===''?[]:imgs.split(',')\r\n        const title = (\r\n            <span>\r\n              <LinkButton>\r\n                <ArrowLeftOutlined\r\n                  style={{marginRight: 10, fontSize: 20}}\r\n                  onClick={() => this.props.history.goBack()}\r\n                />\r\n              </LinkButton>\r\n      \r\n              <span>商品详情</span>\r\n            </span>\r\n          )\r\n        return (\r\n          <Card title={title} className='product-detail'>\r\n            <List>\r\n              <Item>\r\n                <span className=\"left\">商品名称:</span>\r\n                <span>{name}</span>\r\n              </Item>\r\n              <Item>\r\n                <span className=\"left\">商品描述:</span>\r\n                <span>{description}</span>\r\n              </Item>\r\n              <Item>\r\n                <span className=\"left\">商品价格:</span>\r\n                <span>{price}元</span>\r\n              </Item>\r\n              <Item>\r\n                <span className=\"left\">所属分类:</span>\r\n                <span>{categoryName1} {categoryName2 ? ' --> '+categoryName2 : ''}</span>\r\n              </Item>\r\n              <Item>\r\n                <span className=\"left\">商品图片:</span>\r\n                <span>\r\n                  {\r\n                    imgs.map(img => (\r\n                      <img\r\n                        key={img}\r\n                        src={defaultUrl+'/image/'+img}\r\n                        className=\"product-img\"\r\n                        alt=\"img\"\r\n                      />\r\n                    ))\r\n                  }\r\n                </span>\r\n              </Item>\r\n              <Item>\r\n                <span className=\"left\">商品详情:</span>\r\n                {/* \r\n                  dangerouslySetInnerHTML \r\n                 */}\r\n                <span dangerouslySetInnerHTML={{__html: details}}>\r\n                </span>\r\n              </Item>\r\n      \r\n            </List>\r\n          </Card>\r\n        )\r\n    }\r\n}\r\n","export function numFormate(originNum){\r\n    let num = Number(originNum)\r\n    if(typeof num !=='number' || isNaN(num))\r\n        return NaN\r\n    let flag = ''\r\n    if(num<0)\r\n        flag = '-'\r\n    let arrInt = ((''+Math.abs(num)).split('.')[0]).split('').reverse()\r\n    let arrFloat = (''+Math.abs(num)).split('.')[1]\r\n    let resultArr = []\r\n    for(let i=0;i<arrInt.length;i++){\r\n        resultArr.push(arrInt[i])\r\n        if((i+1)%3===0&&((arrInt.length-1)!==i))\r\n            resultArr.push(',')\r\n    }\r\n    resultArr = resultArr.reverse()\r\n    if(arrFloat){\r\n        resultArr.push('.')\r\n        for(let j=0;j<arrFloat.length;j++){\r\n            resultArr.push(arrFloat[j])\r\n            if((j+1)%3===0&&((arrFloat.length-1)!==j))\r\n                resultArr.push(',')\r\n        }\r\n    }\r\n    let result = flag + resultArr.join('')\r\n    return result\r\n}","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Select,\r\n    Input,\r\n    Button,\r\n    Table,\r\n    message,\r\n    Modal\r\n} from 'antd'\r\n\r\nimport {PlusOutlined} from '@ant-design/icons'\r\nimport {numFormate} from '../../../../utils/tools'\r\nimport LinkButton from '../../../../components/link-button'\r\nimport { reqProducts, reqUpdateStatus } from '../../../../api'\r\nconst Option = Select.Option\r\n\r\n/* \r\n    product默认子路由组件\r\n*/\r\nexport default class ProductHome extends Component {\r\n    state = {\r\n        products:[],\r\n        columns:[],\r\n        loading:false,\r\n        searchName:'',\r\n        searchType:'productName'\r\n    }\r\n    initColumns = ()=>{\r\n        this.setState({columns:[{\r\n            title: '商品名称',\r\n            dataIndex: 'name',\r\n          },\r\n          {\r\n            title: '商品描述',\r\n            dataIndex: 'description',\r\n          },\r\n          {\r\n            title: '价格',\r\n            dataIndex: 'price',\r\n            render:(item)=> '￥' + numFormate(item)\r\n          },\r\n          {\r\n            width:100,\r\n            title: '状态',\r\n            dataIndex: 'status',\r\n            render:(status,product)=> {\r\n                let state = status === 0 ? '已下架':'在售'\r\n                let action = status === 0 ? '上架':'下架'\r\n                return (<span>\r\n                    <Button type='primary' onClick={()=>this.changeState(product.id,status)}>{action}</Button>\r\n                    <span>{state}</span>\r\n                </span>)\r\n            }\r\n          },\r\n          {\r\n              title:'操作',\r\n              render:(x,product)=> {\r\n                  return (\r\n                      <div>\r\n                          <LinkButton onClick={() => this.props.history.push('/admin/manage/product/details', {product})}>详情</LinkButton>\r\n                          <LinkButton onClick={() => this.props.history.push('/admin/manage/product/addUpdate', product)}>修改</LinkButton>\r\n                      </div>\r\n                  )\r\n              }\r\n          }\r\n        ]})\r\n    }\r\n    changeState = (id,state) =>{\r\n        Modal.confirm({\r\n            /* title:'c', */\r\n            content: '是否确定更新商品状态？',\r\n            onOk:async()=>{\r\n                const status = await reqUpdateStatus(id,state)\r\n                if(status === 0){\r\n                    message.success('更新商品成功')\r\n                    this.searchProducts()\r\n                }\r\n                else \r\n                    message.warn('更新商品失败')\r\n            },\r\n            onCancel(){\r\n\r\n            }\r\n        })\r\n    }\r\n    initProducts = async ()=>{\r\n        this.setState({loading:true})\r\n        const result = await reqProducts({name:'',description:''})\r\n        this.setState({loading:false})\r\n        this.setState({products:result})\r\n    }\r\n    searchProducts = async()=>{\r\n        this.setState({loading:true})\r\n        let result\r\n        if(this.state.searchType === 'productName')\r\n            result = await reqProducts({name:this.state.searchName,description:''})\r\n        else\r\n            result = await reqProducts({name:'',description:this.state.searchName})\r\n        this.setState({loading:false})\r\n        this.setState({products:result})\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n        this.initColumns()\r\n        this.initProducts()\r\n    }\r\n    render() {\r\n        const {products,columns,loading,searchType} = this.state\r\n        const length = products.length\r\n        const title = (\r\n            <span>\r\n                <Select value={searchType} style={{width:'150px',marginRight:'15px'}} onChange={value => this.setState({searchType:value})}>\r\n                    <Option value='productName'>按名称搜索</Option>\r\n                    <Option value='productDesc'>按描述搜索</Option>\r\n                </Select>\r\n                <Input placeholder='请输入关键字' style={{width:'150px',marginRight:'15px'}} onChange={event => this.setState({searchName:event.target.value})}/>\r\n                <Button type='primary' onClick={this.searchProducts}>搜索</Button>\r\n            </span>\r\n        )\r\n        const extra = (\r\n            <Button type='primary' onClick={()=>this.props.history.push('/admin/manage/product/addUpdate')}>\r\n                <PlusOutlined />\r\n                添加商品\r\n            </Button>\r\n        )\r\n\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n                <Table \r\n                    rowKey='id'\r\n                    bordered\r\n                    dataSource={products} \r\n                    columns={columns} \r\n                    loading={loading}\r\n                    pagination={{\r\n                        defaultPageSize:5,\r\n                        total:length,\r\n                        showQuickJumper:true,\r\n                        showTotal: ((total) => {\r\n                            return `共 ${total} 条`;\r\n                          }),\r\n                    \r\n                    }}\r\n                    \r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Redirect, Route,Switch } from 'react-router'\r\nimport ProductAddUpdate from './add-product'\r\nimport ProductDetails from './details'\r\nimport ProductHome from './home'\r\nimport './product.less'\r\n\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path='/admin/manage/product/product' component={ProductHome}/>\r\n                <Route exact path='/admin/manage/product/addUpdate' component={ProductAddUpdate}/>\r\n                <Route exact path='/admin/manage/product/details' component={ProductDetails}/>\r\n                <Redirect to='/admin/manage/product/product' />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Select,\r\n  Input\r\n} from 'antd'\r\n\r\nconst Item = Form.Item\r\nconst Option = Select.Option\r\n\r\n/*\r\n添加分类的form组件\r\n */\r\nclass AddForm extends Component {\r\n\r\n  static propTypes = {\r\n    setForm: PropTypes.func.isRequired, // 用来传递form对象的函数\r\n    categorys: PropTypes.array.isRequired, // 一级分类的数组\r\n    parentId: PropTypes.string.isRequired, // 父分类的ID\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setForm(this.props.form)\r\n  }\r\n\r\n  render() {\r\n    const {categorys, parentId} = this.props\r\n\r\n    return (\r\n      <Form>\r\n        <Item name='parentId' initialValue={parentId}>\r\n              <Select>\r\n                <Option value='0'>一级分类</Option>\r\n                {\r\n                  categorys.map(c => <Option value={c._id}>{c.name}</Option>)\r\n                }\r\n              </Select>\r\n        </Item>\r\n\r\n        <Item name='categoryName' rules={[\r\n                {required: true, message: '分类名称必须输入'}\r\n              ]}>\r\n              <Input placeholder='请输入分类名称'/>\r\n        </Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddForm","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Input\r\n} from 'antd'\r\n\r\nconst Item = Form.Item\r\n\r\n/*\r\n更新分类的form组件\r\n */\r\nclass UpdateForm extends Component {\r\n\r\n  static propTypes = {\r\n    categoryName: PropTypes.string.isRequired,\r\n    setForm: PropTypes.func.isRequired\r\n  }\r\n\r\n  componentWillMount () {\r\n    // 将form对象通过setForm()传递父组件\r\n    this.props.setForm(this.props.form)\r\n  }\r\n\r\n  render() {\r\n\r\n    const {categoryName} = this.props\r\n    //const { getFieldDecorator } = this.props.form\r\n\r\n    return (\r\n      <Form>\r\n        <Item name='categoryName' initialValue={categoryName} rules={[\r\n            {required: true, message: '分类名称必须输入'}]}>\r\n              <Input placeholder='请输入分类名称'/>\r\n        </Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateForm","import React, {Component} from 'react'\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Icon,\r\n  message,\r\n  Modal\r\n} from 'antd'\r\n\r\nimport LinkButton from '../../../../components/link-button'\r\nimport AddForm from './add-form'\r\nimport UpdateForm from './update-form'\r\nimport {PlusOutlined} from '@ant-design/icons'\r\nimport {reqCategorys} from '../../../../api/index'\r\n/*\r\n商品分类路由\r\n */\r\nexport default class Category extends Component {\r\n    state = {\r\n        loading: false, // 是否正在获取数据中\r\n        categorys: [], // 一级分类列表\r\n        subCategorys: [], // 二级分类列表\r\n        parentId: '0', // 当前需要显示的分类列表的父分类ID\r\n      parentName: '', // 当前需要显示的分类列表的父分类名称\r\n      showStatus: 0, // 标识添加/更新的确认框是否显示, 0: 都不显示, 1: 显示添加, 2: 显示更新\r\n    }\r\n      /*\r\n      初始化Table所有列的数组\r\n      */\r\n    initColumns = () => {\r\n      this.columns = [\r\n        {\r\n          title: '分类的名称',\r\n          dataIndex: 'name', // 显示数据对应的属性名\r\n        },\r\n        {\r\n          title: '操作',\r\n          width: 300,\r\n          render: (category) => ( // 返回需要显示的界面标签\r\n            <span>\r\n              <LinkButton onClick={() => this.showUpdate(category)}>修改分类</LinkButton>\r\n              {/*如何向事件回调函数传递参数: 先定义一个匿名函数, 在函数调用处理的函数并传入数据*/}\r\n              {this.state.parentId==='0' ? <LinkButton onClick={() => this.showSubCategorys(category)}>查看子分类</LinkButton> : null}\r\n\r\n            </span>\r\n          )\r\n        }\r\n      ]\r\n    }\r\n      /*\r\n      异步获取一级/二级分类列表显示\r\n      parentId: 如果没有指定根据状态中的parentId请求, 如果指定了根据指定的请求\r\n      */\r\n    getCategorys = async (parentId) => {\r\n      // 在发请求前, 显示loading\r\n      this.setState({loading: true})\r\n      parentId = parentId || this.state.parentId\r\n      // 发异步ajax请求, 获取数据\r\n      const result = await reqCategorys(parentId)\r\n      // 在请求完成后, 隐藏loading\r\n      this.setState({loading: false})\r\n      console.log(result)\r\n      if(result.status==='0') {\r\n        // 取出分类数组(可能是一级也可能二级的)\r\n        const categorys = result.data\r\n        if(parentId==='0') {\r\n          // 更新一级分类状态\r\n          this.setState({\r\n            categorys\r\n          })\r\n          console.log('----', this.state.categorys.length)\r\n        } else {\r\n          // 更新二级分类状态\r\n          this.setState({\r\n            subCategorys: categorys\r\n          })\r\n        }\r\n      } else {\r\n        message.error('获取分类列表失败')\r\n      }\r\n    }\r\n        /*\r\n    显示指定一级分类对象的二子列表\r\n    */\r\n    showSubCategorys = (category) => {\r\n        // 更新状态\r\n        this.setState({\r\n            parentId: category.id,\r\n            parentName: category.name\r\n        }, () => { // 在状态更新且重新render()后执行\r\n        console.log('parentId', this.state.parentId) // '0'\r\n        // 获取二级分类列表显示\r\n        this.getCategorys()\r\n        })\r\n        // setState()不能立即获取最新的状态: 因为setState()是异步更新状态的\r\n        // console.log('parentId', this.state.parentId) // '0'\r\n    }\r\n      /*\r\n    显示指定一级分类列表\r\n    */\r\n    showCategorys = () => {\r\n        // 更新为显示一列表的状态\r\n        this.setState({\r\n        parentId: '0',\r\n        parentName: '',\r\n        subCategorys: []\r\n        })\r\n    }\r\n      /*\r\n    显示修改的确认框\r\n    */\r\n    showUpdate = (category) => {\r\n        // 保存分类对象\r\n        message.warn({\r\n            content:'后端接口暂无'\r\n        })\r\n    }\r\n    componentWillMount () {\r\n        this.initColumns()\r\n    }\r\n    componentDidMount () {\r\n      // 获取一级分类列表显示\r\n        this.getCategorys(0)\r\n    }\r\n    showAdd = ()=>{\r\n        message.warn({\r\n            content:'后端接口暂无'\r\n        })\r\n    }\r\n    render (){\r\n        \r\n        // 读取状态数据\r\n        const {categorys, subCategorys, parentId, parentName, loading, showStatus} = this.state\r\n        // 读取指定的分类\r\n        //const category = this.category || {} // 如果还没有指定一个空对象\r\n\r\n        // card的左侧\r\n        const extra = (\r\n            <Button type='primary' onClick={this.showAdd}>\r\n              <PlusOutlined/>\r\n                添加\r\n            </Button>\r\n          )\r\n          const title = parentId === '0' ? '一级分类列表' : (\r\n            <span>\r\n              <LinkButton onClick={this.showCategorys}>一级分类列表</LinkButton>\r\n              <Icon type='arrow-right' style={{marginRight: 5}}/>\r\n              <span>{parentName}</span>\r\n            </span>\r\n          )\r\n          return (\r\n            <Card title={title} extra={extra}>\r\n              <Table\r\n                bordered\r\n                rowKey='_id'\r\n                loading={loading}\r\n                dataSource={parentId==='0' ? categorys : subCategorys}\r\n                columns={this.columns}\r\n                pagination={{defaultPageSize: 5, showQuickJumper: true}}\r\n              />\r\n      \r\n              <Modal\r\n                title=\"添加分类\"\r\n                visible={showStatus===1}\r\n                onOk={this.addCategory}\r\n                onCancel={this.handleCancel}\r\n              >\r\n                <AddForm\r\n                  categorys={categorys}\r\n                  parentId={parentId}\r\n                  setForm={(form) => {this.form = form}}\r\n                />\r\n              </Modal>\r\n      \r\n              <Modal\r\n                title=\"更新分类\"\r\n                visible={showStatus===2}\r\n                onOk={this.updateCategory}\r\n                onCancel={this.handleCancel}\r\n              >\r\n                <UpdateForm\r\n                  setForm={(form) => {this.form = form}}\r\n                />\r\n              </Modal>\r\n            </Card>\r\n          )\r\n    }\r\n}","import React ,{ useRef, useImperativeHandle,useState } from 'react';\r\nimport './user-form.less';\r\n\r\nfunction UserForm(props,ref){\r\n  const {user,roles} = props;\r\n  const [username, setUsername] = useState(user.username);\r\n  const [password, setPassword] = useState(user.password);\r\n  const [email, setEmail] = useState(user.email);\r\n  const [phone, setPhone] = useState(user.phone);\r\n  const [role_id, setRole] = useState(user.role_id);\r\n  const userName = useRef();\r\n  const passWord = useRef();\r\n  const Email = useRef();\r\n  const phoneNumber = useRef();\r\n  const Role = useRef();\r\n  useImperativeHandle(ref, () => ({\r\n    getValues: () => {\r\n      return {\r\n        username,password,phone,email,role_id\r\n      }\r\n    },\r\n    reset:(p)=>{\r\n      setUsername(p.username)\r\n      setPassword(p.password)\r\n      setEmail(p.email)\r\n      setPhone(p.phone)\r\n      //setRole(p.role_id)\r\n    },\r\n    empty:()=>{\r\n      setUsername('')\r\n      setPassword('')\r\n      setEmail('')\r\n      setPhone('')\r\n      //setRole('')\r\n    }\r\n  }));\r\n\r\n  return (\r\n    <div className='modify_modal'>\r\n      <div>\r\n        <label htmlFor='username'>用户名:</label>\r\n        <input id='username' ref={userName} value={username} onChange={e=>setUsername(e.target.value)} />\r\n      </div>\r\n      <div>\r\n        <label htmlFor='password'>密码:</label>\r\n        <input id='password' type='password' ref={passWord} value={password} onChange={e=>setPassword(e.target.value)}/>\r\n      </div>\r\n      <div>\r\n        <label htmlFor='email'>邮箱:</label>\r\n        <input id='email' ref={Email} value={email} onChange={e=>setEmail(e.target.value)}/>\r\n      </div>\r\n      <div>\r\n        <label htmlFor='phone'>手机:</label>\r\n        <input id='phone' ref={phoneNumber} value={phone} onChange={e=>setPhone(e.target.value)}/>\r\n      </div>\r\n      <div>\r\n        <label htmlFor='role'>角色:</label>\r\n        <select id='role' ref={Role} value={role_id} onChange={e=>setRole(e.target.value)}>\r\n            {\r\n                roles.map(ro => <option key={ro.id} value={ro.id}>{ro.name}</option>)\r\n            }\r\n        </select>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(React.forwardRef(UserForm));\r\n","import React, {Component} from 'react'\r\nimport {\r\n  Card,\r\n  Button,\r\n  Table,\r\n  Modal,\r\n  message\r\n} from 'antd'\r\nimport formateDate from '../../../utils/dateUtils'\r\nimport LinkButton from '../../../components/link-button'\r\nimport {reqDeleteUser, reqUsers, reqAddOrUpdateUser} from '../../../api'\r\nimport UserForm from './user-form'\r\n\r\n/*\r\n用户路由\r\n */\r\nexport default class User extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.user_form = React.createRef()\r\n  }\r\n\r\n  state = {\r\n    users: [], // 所有用户列表\r\n    roles: [], // 所有角色列表\r\n    isShow: false, // 是否显示确认框\r\n  }\r\n\r\n  initColumns = () => {\r\n    this.columns = [\r\n      {\r\n        title: '用户名',\r\n        dataIndex: 'username'\r\n      },\r\n      {\r\n        title: '邮箱',\r\n        dataIndex: 'email'\r\n      },\r\n\r\n      {\r\n        title: '电话',\r\n        dataIndex: 'phone'\r\n      },\r\n      {\r\n        title: '注册时间',\r\n        dataIndex: 'create_time',\r\n        render: formateDate\r\n      },\r\n      {\r\n        title: '所属角色',\r\n        dataIndex: 'role_id',\r\n        render: (role_id) => this.roleNames[role_id]\r\n      },\r\n      {\r\n        title: '操作',\r\n        render: (user) => (\r\n          <span>\r\n            <LinkButton onClick={() => this.showUpdate(user)}>修改</LinkButton>\r\n            <LinkButton onClick={() => this.deleteUser(user)}>删除</LinkButton>\r\n          </span>\r\n        )\r\n      },\r\n    ]\r\n  }\r\n\r\n  /*\r\n  根据role的数组, 生成包含所有角色名的对象(属性名用角色id值)\r\n   */\r\n  initRoleNames = (roles) => {\r\n    const roleNames = roles.reduce((pre, role) => {\r\n      pre[role.id] = role.name\r\n      return pre\r\n    }, {})\r\n    // 保存\r\n    this.roleNames = roleNames\r\n  }\r\n\r\n  /*\r\n  显示添加界面\r\n   */\r\n  showAdd = () => {\r\n    // 去除前面保存的user\r\n    //this.setState({user:null})\r\n    this.user = {username:'',password:'',phone:'',email:'',role:''}\r\n    this.setState({isShow: true})\r\n  }\r\n\r\n  /*\r\n  显示修改界面\r\n   */\r\n  showUpdate = (user) => {\r\n    // 保存user\r\n    //this.setState({user:user})\r\n    this.user = user\r\n    console.log(this.user)\r\n    if(this.user_form.current)\r\n      this.user_form.current.reset(user)\r\n    this.setState({\r\n      isShow: true\r\n    })\r\n  }\r\n\r\n  /*\r\n  删除指定用户\r\n   */\r\n  deleteUser = (user) => {\r\n    Modal.confirm({\r\n      title: `确认删除${user.username}吗?`,\r\n      onOk: async () => {\r\n        const result = await reqDeleteUser(user.user_id)\r\n        if(result.status===0) {\r\n          message.success('删除用户成功!')\r\n          this.getUsers()\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /*\r\n  添加/更新用户\r\n   */\r\n  addOrUpdateUser = async () => {\r\n\r\n\r\n    // 1. 收集输入数据\r\n    \r\n    const user = this.user_form.current.getValues()\r\n    if(!user.username||!user.password ){\r\n      message.error(`${user.username?'密码':'用户名'}未输入`);  \r\n      return ; \r\n    }\r\n    if(!(/^1[3456789]\\d{9}$/.test(user.phone))){ \r\n      message.error(\"手机号码不合法，请重新输入\");  \r\n      return ; \r\n    } \r\n    if(!(/^([A-Za-z0-9_\\-.])+@([A-Za-z0-9_\\-.])+.([A-Za-z]{2,4})$/.test(user.email))){ \r\n      message.error(\"邮箱不合法，请重新输入\");  \r\n      return ; \r\n    }\r\n\r\n    this.setState({isShow: false})\r\n\r\n    //this.user_form.current.reset()\r\n    // 如果是更新, 需要给user指定id属性\r\n    if (this.user.user_id) {\r\n      user.user_id = this.user.user_id\r\n    }\r\n    user.role = this.roleNames[user.role_id]\r\n    this.user_form.current.empty()\r\n    // 2. 提交添加的请求\r\n    const result = await reqAddOrUpdateUser(user)\r\n    // 3. 更新列表显示\r\n    if(result.status===0) {\r\n      message.success(`${this.user.user_id ? '修改' : '添加'}用户成功`)\r\n      this.getUsers()\r\n    }\r\n    else{\r\n      message.error(`${this.user.user_id ? '修改' : '添加'}用户失败`)\r\n    }\r\n  }\r\n\r\n  getUsers = async () => {\r\n    const result = await reqUsers()\r\n    if (result.status===1) {\r\n      const {users, roles} = result.data\r\n      this.initRoleNames(roles)\r\n      this.setState({\r\n        users,\r\n        roles\r\n      })\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillMount () {\r\n    this.initColumns()\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.getUsers()\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const {users, roles, isShow} = this.state\r\n    const user = this.user||{}\r\n    const title = <Button type='primary' onClick={this.showAdd}>创建用户</Button>\r\n    return (\r\n      <Card title={title}>\r\n        <Table\r\n          bordered\r\n          rowKey='user_id'\r\n          dataSource={users}\r\n          columns={this.columns}\r\n          pagination={{     \r\n            defaultPageSize:5,\r\n            total:users.length,\r\n            showQuickJumper:true,\r\n            showTotal: ((total) => {\r\n                return `共 ${total} 条`;\r\n              })\r\n            }}\r\n        />\r\n\r\n        <Modal\r\n          title={user.user_id ? '修改用户' : '添加用户'}\r\n          visible={isShow}\r\n          onOk={this.addOrUpdateUser}\r\n          onCancel={() => {\r\n            this.user_form.current.empty()\r\n            this.setState({isShow: false})\r\n          }}\r\n        >\r\n          <UserForm\r\n            ref= {this.user_form}\r\n            roles={roles}\r\n            user={user}\r\n          />\r\n        </Modal>\r\n\r\n      </Card>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n  Form,\r\n  Input\r\n} from 'antd'\r\n\r\nconst Item = Form.Item\r\n\r\n/*\r\n添加分类的form组件\r\n */\r\nclass AddForm extends Component {\r\n\r\n  constructor(props){\r\n      super(props)\r\n      this.ref = React.createRef()\r\n      this.aform = React.createRef()\r\n  }\r\n  getValue=()=>{\r\n      return this.ref.current.props.value\r\n  }\r\n  reset=()=>{\r\n    this.aform.current.resetFields()\r\n  }\r\n  state = {\r\n    value:''\r\n  }\r\n  render() {\r\n    // 指定Item布局的配置对象\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },  // 左侧label的宽度\r\n      wrapperCol: { span: 15 }, // 右侧包裹的宽度\r\n    }\r\n\r\n    return (\r\n      <Form ref={this.aform}>\r\n        <Item label='角色名称' {...formItemLayout}\r\n            name='roleName'\r\n            initialValue=''\r\n            rules={[\r\n                {required: true, message: '角色名称必须输入'}\r\n              ]}\r\n        >\r\n            <Input placeholder='请输入角色名称' ref={this.ref}  />\r\n        </Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddForm","import React, {PureComponent} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tree\r\n} from 'antd'\r\nimport menuList from '../../../config/menuConfig'\r\n\r\nconst Item = Form.Item\r\n\r\n/* const { TreeNode } = Tree; */\r\n\r\n/*\r\n添加分类的form组件\r\n */\r\nexport default class AuthForm extends PureComponent {\r\n\r\n  static propTypes = {\r\n    role: PropTypes.object\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    // 根据传入角色的menus生成初始状态\r\n    const menus = this.props.role.auth.split(',')\r\n    this.state = {\r\n      checkedKeys: menus\r\n    }\r\n  }\r\n\r\n  /*\r\n  为父组件提交获取最新menus数据的方法\r\n   */\r\n  getMenus = () => this.state.checkedKeys\r\n\r\n\r\n /*  getTreeNodes = (menuList) => {\r\n    return menuList.reduce((pre, item) => {\r\n      pre.push(\r\n        <TreeNode title={item.title} key={item.key}>\r\n          {item.children ? this.getTreeNodes(item.children) : null}\r\n        </TreeNode>\r\n      )\r\n      return pre\r\n    }, [])\r\n  } */\r\n\r\n  // 选中某个node时的回调\r\n  onCheck = checkedKeys => {\r\n    console.log('onCheck', checkedKeys);\r\n    this.setState({ checkedKeys });\r\n  };\r\n\r\n\r\n/*   componentWillMount () {\r\n    this.treeNodes = this.getTreeNodes(menuList)\r\n  } */\r\n\r\n  // 根据新传入的role来更新checkedKeys状态\r\n  /*\r\n  当组件接收到新的属性时自动调用\r\n   */\r\n  UNSAFE_componentWillReceiveProps (nextProps) {\r\n    console.log('componentWillReceiveProps()', nextProps)\r\n    const menus = nextProps.role.auth.split(',')\r\n    this.setState({\r\n      checkedKeys: menus\r\n    })\r\n    // this.state.checkedKeys = menus\r\n  }\r\n\r\n  render() {\r\n    const {role} = this.props\r\n    const {checkedKeys} = this.state\r\n    // 指定Item布局的配置对象\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },  // 左侧label的宽度\r\n      wrapperCol: { span: 15 }, // 右侧包裹的宽度\r\n    }\r\n    return (\r\n      <div>\r\n        <Item label='角色名称' {...formItemLayout}>\r\n          <Input value={role.name} disabled/>\r\n        </Item>\r\n\r\n        <Tree\r\n          checkable\r\n          defaultExpandAll={true}\r\n          checkedKeys={checkedKeys}\r\n          onCheck={this.onCheck}\r\n          treeData={\r\n            [{\r\n              title:'平台权限',\r\n              key:'all',\r\n              children:menuList\r\n            }]\r\n          }\r\n        >\r\n         {/*  <TreeNode title=\"平台权限\" key=\"all\">\r\n            {this.treeNodes}\r\n          </TreeNode> */}\r\n        </Tree>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport {reqRoles,reqAddRole,reqUpdateRole} from '../../../api/index'\r\nimport {\r\n    Card,Button,message,Table,Modal\r\n} from 'antd'\r\nimport AddForm from './add-form'\r\nimport AuthForm from './auth-form'\r\nimport memoryUtils from '../../../utils/memoryUtils'\r\nimport storageUtils from '../../../utils/storageUtils'\r\n\r\nexport default class User extends Component {\r\n    state = {\r\n        roles: [], // 所有角色的列表\r\n        role: {}, // 选中的role\r\n        isShowAdd: false, // 是否显示添加界面\r\n        isShowAuth: false, // 是否显示设置权限界面\r\n        loading:false\r\n    }\r\n    constructor (props) {\r\n        super(props)\r\n        this.auth = React.createRef()\r\n        this.add = React.createRef()\r\n    }\r\n    UNSAFE_componentWillMount () {\r\n        this.initColumns()\r\n    }\r\n    componentDidMount () {\r\n        this.getRoles()\r\n    }\r\n\r\n    initColumns = ()=>{\r\n        this.columns = [\r\n            {\r\n                title: '角色名称',\r\n                dataIndex: 'name'\r\n            },\r\n            {\r\n                title: '创建时间',\r\n                dataIndex: 'create_time'\r\n            },\r\n\r\n            {\r\n                title: '授权时间',\r\n                dataIndex: 'auth_time'\r\n            },\r\n            {\r\n                title: '授权人',\r\n                dataIndex: 'author',\r\n            }\r\n        ]\r\n    }\r\n    getRoles = async () => {\r\n        this.setState({loading:true})\r\n        const result = await reqRoles()\r\n        if (result.status===1) {\r\n          const roles = result.data\r\n          this.setState({\r\n            roles,\r\n            loading:false\r\n          })\r\n        }\r\n    }\r\n    onRow = (role) => {\r\n      return {\r\n        onClick: event => { // 点击行\r\n          console.log('row onClick()', role)\r\n          // alert('点击行')\r\n          this.setState({\r\n            role\r\n          })\r\n        },\r\n      }\r\n    }\r\n    addRole = async()=>{\r\n        // 进行表单验证, 只能通过了才向下处理\r\n        const roleName = this.add.current.getValue()\r\n        console.log(roleName)\r\n        if(roleName){\r\n            this.setState({\r\n                isShowAdd: false\r\n            })\r\n            //this.add.current.reset()\r\n            const result = await reqAddRole(roleName)\r\n            if (result.status===0) {\r\n                message.success('添加角色成功')\r\n                // this.getRoles()\r\n                // 新产生的角色\r\n                const role = result.info[0]\r\n                // 更新roles状态: 基于原本状态数据更新\r\n                this.setState(state => ({\r\n                  roles: [...state.roles, role]\r\n                }))\r\n      \r\n              } else {\r\n                message.success(result.msg)\r\n              }\r\n        }\r\n    }\r\n    updateRole =async()=>{\r\n           // 隐藏确认框\r\n      this.setState({\r\n        isShowAuth: false,\r\n      })\r\n  \r\n      const role = this.state.role\r\n      const auth_list = this.auth.current.getMenus()\r\n      const auth = auth_list?auth_list.join(','):''\r\n      const author = memoryUtils.user.username\r\n      const author_id = memoryUtils.user.user_id\r\n      role.auth = auth  \r\n      role.author = author  \r\n      role.author_id = author_id  \r\n      // 请求更新\r\n      const result = await reqUpdateRole(role)\r\n      console.log(result)\r\n      if (result.status===0) {\r\n        if (role.id === memoryUtils.user.role_id) {\r\n            memoryUtils.user = {}\r\n            storageUtils.removeUser()\r\n            message.success('设置当前用户角色权限成功')\r\n            let that = this\r\n            setTimeout(function(){\r\n                that.props.history.replace('/login')\r\n            },500)\r\n        } \r\n        else{\r\n            message.success('设置角色权限成功')\r\n            this.getRoles()\r\n        }\r\n      }\r\n    }\r\n    render() {\r\n        const {roles, role, isShowAdd, isShowAuth,loading} = this.state\r\n        const length = roles.length\r\n        const extra = 1\r\n        const title = (<span>\r\n            <Button type='primary' onClick={() => this.setState({isShowAdd: true})}>创建角色</Button> &nbsp;&nbsp;\r\n            <Button type='primary' disabled={!role.id} onClick={() => this.setState({isShowAuth: true})}>设置角色权限</Button>\r\n        </span>)\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n            <Table \r\n                rowKey='id'\r\n                bordered\r\n                dataSource={roles} \r\n                columns={this.columns} \r\n                loading={loading}\r\n                pagination={{\r\n                    defaultPageSize:5,\r\n                    total:length,\r\n                    showQuickJumper:true,\r\n                    showTotal: ((total) => {\r\n                        return `共 ${total} 条`;\r\n                      }),\r\n                }}\r\n                rowSelection={{\r\n                    type: 'radio',\r\n                    selectedRowKeys: [role.id],\r\n                    onSelect: (role) => { // 选择某个radio时回调\r\n                      this.setState({\r\n                        role\r\n                      })\r\n                    }\r\n        \r\n                }}\r\n                onRow={this.onRow}\r\n                \r\n            />\r\n            <Modal\r\n                title=\"添加角色\"\r\n                visible={isShowAdd}\r\n                onOk={this.addRole}\r\n                onCancel={() => {\r\n                    this.setState({isShowAdd: false})\r\n                    /* this.form.resetFields() */\r\n                }}\r\n            >\r\n                <AddForm\r\n                    ref={this.add}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal\r\n                title=\"设置角色权限\"\r\n                visible={isShowAuth}\r\n                onOk={this.updateRole}\r\n                onCancel={() => {\r\n                    this.setState({isShowAuth: false})\r\n                }}\r\n            >\r\n                <AuthForm ref={this.auth} role={role}/>\r\n            </Modal>\r\n        </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport memoryUtil from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport {Route,Switch,Redirect} from 'react-router-dom'\r\n\r\nimport { Layout } from 'antd';\r\nimport Header from '../../components/header';\r\nimport LeftNav from '../../components/left-nav';\r\nimport Home from './Home';\r\nimport Line from './Charts/line'\r\nimport Bar from './Charts/bar'\r\nimport Pie from './Charts/pie'\r\nimport Product from './Manage/product/product'\r\nimport Category from './Manage/category/category'\r\nimport User from './User'\r\nimport Role from './Role'\r\nconst {  Footer, Sider, Content } = Layout;\r\n\r\n\r\nexport default class Admin extends Component {\r\n    render() {\r\n        const user = memoryUtil.user\r\n        const a = new Date().getTime()\r\n        console.log(user)\r\n        if(!user||!user.user_id){\r\n            return <Redirect to=\"/login\"/>\r\n        }\r\n        if(user.user_id){\r\n            const b = new Date(user.auth_key).getTime()\r\n            if(b<a){\r\n                storageUtils.removeUser()\r\n                memoryUtil.user = {}\r\n                return <Redirect to=\"/login\"/>\r\n            }\r\n        }\r\n        //如果没有权限则返回home\r\n        if(user.auth.indexOf(this.props.location.pathname)===-1&&\r\n            !(this.props.location.pathname==='/admin/manage/product/product'&&user.auth.indexOf('/admin/manage/product')!==-1))\r\n            return <Redirect to=\"/admin/home\"/>\r\n        return (\r\n            <Layout style={{height:\"100%\"}}>\r\n                <Sider>\r\n                    <LeftNav />\r\n                </Sider>\r\n                <Layout>\r\n                    <Header>Header</Header>\r\n                    <Content style={{backgroundColor:'white',margin:'20px 15px'}}>\r\n                        <Switch>\r\n                            <Route path='/admin/home' component={Home} ></Route>\r\n                            <Route path='/admin/manage/category' component={Category}></Route>\r\n                            <Route path='/admin/manage/product' component={Product}></Route>\r\n                            <Route path='/admin/user' component={User}></Route>\r\n                            <Route path='/admin/charts/line' component={Line}></Route>\r\n                            <Route path='/admin/charts/bar' component={Bar}></Route>\r\n                            <Route path='/admin/charts/pie' component={Pie}></Route>\r\n                            <Route path='/admin/role' component={Role}></Route>\r\n                            <Redirect to='/admin/home'></Redirect>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer style={{textAlign:'center',color:'#ccc'}}>wjcTest</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n","/*\r\n    根组件\r\n*/\r\n\r\nimport React,{ Component,Fragment } from \"react\";\r\nimport {Route,Switch,Redirect} from 'react-router-dom'\r\nimport Login from \"./pages/Login\";\r\nimport Admin from \"./pages/Admin\";\r\n\r\nexport default class App extends Component {\r\n    render (){\r\n        return (\r\n            <Fragment>\r\n                <Switch>\r\n                    <Route path='/login' component={Login} />\r\n                    <Route path='/admin' component={Admin} />\r\n                    <Redirect to='/login'/>\r\n                </Switch>\r\n            </Fragment>\r\n        )\r\n    }\r\n}","/*\r\n    入口js\r\n*/\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport storageUtils from './utils/storageUtils'\r\nimport memoryUtil from './utils/memoryUtils'\r\n//读取local中保存的user,保存到内存中\r\n\r\nconst user = storageUtils.getUser()\r\nmemoryUtil.user = user\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>\r\n,document.getElementById('root'))"],"sourceRoot":""}